<div class="card">
    <h1>Edit Calendar Event</h1>

    <form action="/calendar/edit/{{event._id}}" method="POST">
        <div class="form-group">
            <label class="form-label">Event Title</label>
            <input type="text" name="title" class="form-control" value="{{event.title}}" required>
        </div>

        <div class="form-group">
            <label class="form-label">Description</label>
            <textarea name="description" class="form-control" rows="4" required>{{event.description}}</textarea>
        </div>

        <div class="row">
            <div class="form-group">
                <label class="form-label">Date</label>
                <input type="date" name="date" class="form-control" value="{{formatDate event.date 'YYYY-MM-DD'}}" required>
            </div>

            <div class="form-group">
                <label class="form-label">Event Type</label>
                <select name="type" class="form-control" required>
                    <option value="academic" {{#if (eq event.type 'academic')}}selected{{/if}}>Academic</option>
                    <option value="holiday" {{#if (eq event.type 'holiday')}}selected{{/if}}>Holiday</option>
                    <option value="exam" {{#if (eq event.type 'exam')}}selected{{/if}}>Exam</option>
                    <option value="event" {{#if (eq event.type 'event')}}selected{{/if}}>Campus Event</option>
                    <option value="deadline" {{#if (eq event.type 'deadline')}}selected{{/if}}>Deadline</option>
                </select>
            </div>
        </div>

        <div class="form-group">
            <label class="form-label">Start Time (optional)</label>
            <input type="time" name="startTime" class="form-control" value="{{event.startTime}}">
        </div>

        <div class="form-group">
            <label class="form-label">End Time (optional)</label>
            <input type="time" name="endTime" class="form-control" value="{{event.endTime}}">
        </div>

        <div class="form-group">
            <label class="form-label">Location (optional)</label>
            <input type="text" name="location" class="form-control" value="{{event.location}}">
        </div>

        <div class="form-group">
            <label class="form-label">Priority</label>
            <select name="priority" class="form-control">
                <option value="low" {{#if (eq event.priority 'low')}}selected{{/if}}>Low</option>
                <option value="medium" {{#if (eq event.priority 'medium')}}selected{{/if}}>Medium</option>
                <option value="high" {{#if (eq event.priority 'high')}}selected{{/if}}>High</option>
            </select>
        </div>

        <div style="display: flex; gap: 1rem; margin-top: 2rem;">
            <button type="submit" class="btn btn-primary">Update Event</button>
            <a href="/calendar" class="btn btn-secondary">Cancel</a>
        </div>
    </form>
</div>
