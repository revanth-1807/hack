<div style="display: flex; justify-content: between; align-items: center; margin-bottom: 2rem;">
    <h1>Cafeteria Dashboard</h1>
    <div>
        <a href="/cafeteria/menu" class="btn btn-primary">
            <i class="fas fa-utensils"></i> View Menu
        </a>
        <a href="/cafeteria/orders" class="btn btn-info">
            <i class="fas fa-receipt"></i> My Orders
        </a>
    </div>
</div>

<div class="row">
    <!-- Queue Status Card -->
    <div class="card" style="flex: 1; min-width: 300px;">
        <h2>Current Queue Status</h2>
        <div style="text-align: center; padding: 2rem;">
            <div class="queue-indicator queue-{{queueStatus.color}}" style="font-size: 3rem; margin-bottom: 1rem;">
                <i class="fas fa-users"></i>
            </div>
            <h3 style="color: {{#if (eq queueStatus.color 'white')}}#28a745{{else if (eq queueStatus.color 'orange')}}#fd7e14{{else}}#dc3545{{/if}};">
                {{queueStatus.status}}
            </h3>
            <p>{{queueStatus.message}}</p>
            <p><strong>Current Count:</strong> {{queueStatus.currentCount}}</p>
            <p><strong>Max Capacity:</strong> {{queueStatus.maxCapacity}}</p>
        </div>
    </div>

    <!-- Quick Actions Card -->
    <div class="card" style="flex: 1; min-width: 300px;">
        <h2>Quick Actions</h2>
        <div style="display: flex; flex-direction: column; gap: 1rem; padding: 1rem;">
            <a href="/cafeteria/menu" class="btn btn-primary btn-block">
                <i class="fas fa-utensils"></i> Order Food
            </a>
            <a href="/cafeteria/orders" class="btn btn-info btn-block">
                <i class="fas fa-history"></i> Order History
            </a>
            {{#if (eq user.role 'admin')}}
            <a href="/admin/cafe" class="btn btn-warning btn-block">
                <i class="fas fa-cog"></i> Admin Panel
            </a>
            {{/if}}
        </div>
    </div>
</div>

<!-- Featured Items -->
<div style="margin-top: 2rem;">
    <h2>Featured Menu Items</h2>
    {{#if featuredItems.length}}
    <div class="row">
        {{#each featuredItems}}
        <div class="card" style="width: 200px; text-align: center;">
            {{#if image}}
            <img src="/uploads/{{image}}" alt="{{name}}" style="width: 100%; height: 120px; object-fit: cover; border-radius: 8px 8px 0 0;">
            {{else}}
            <div style="height: 120px; background: #f0f0f0; display: flex; align-items: center; justify-content: center; border-radius: 8px 8px 0 0;">
                <i class="fas fa-utensils" style="font-size: 2rem; color: #999;"></i>
            </div>
            {{/if}}
            <div style="padding: 1rem;">
                <h4>{{name}}</h4>
                <p style="color: #28a745; font-weight: bold;">â‚¹{{price}}</p>
                <a href="/cafeteria/menu/{{_id}}" class="btn btn-primary btn-sm">View Details</a>
            </div>
        </div>
        {{/each}}
    </div>
    {{else}}
    <div class="card" style="text-align: center; padding: 2rem;">
        <i class="fas fa-utensils" style="font-size: 3rem; color: #6c757d; margin-bottom: 1rem;"></i>
        <p>No featured items available at the moment.</p>
    </div>
    {{/if}}
</div>

<style>
.queue-indicator {
    border-radius: 50%;
    width: 100px;
    height: 100px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
}

.queue-white {
    background-color: #28a745;
    color: white;
}

.queue-orange {
    background-color: #fd7e14;
    color: white;
}

.queue-red {
    background-color: #dc3545;
    color: white;
}

.btn-block {
    display: block;
    width: 100%;
    text-align: left;
    padding: 0.75rem 1rem;
}
</style>
