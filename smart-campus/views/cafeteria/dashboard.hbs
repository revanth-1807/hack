<div class="card">
    <h1>Cafeteria Dashboard</h1>
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
        <!-- Queue Status -->
        <div class="card" style="background: #e7f3ff;">
            <h3>Current Queue Status</h3>
            <div style="text-align: center;">
                <div style="font-size: 3rem; font-weight: bold; color: {{queueColor}};">
                    {{queueStatus.currentWaitTime}} min
                </div>
                <p>Estimated wait time</p>
                <span class="badge badge-{{queueColor}}">{{queueStatus.status}}</span>
            </div>
        </div>

        <!-- Popular Items -->
        <div class="card" style="background: #e7f8e7;">
            <h3>Today's Special</h3>
            {{#if popularItem}}
            <div style="text-align: center;">
                <h4>{{popularItem.name}}</h4>
                <p style="color: #28a745;">₹{{popularItem.price}}</p>
                <small>{{popularItem.description}}</small>
            </div>
            {{else}}
            <p style="text-align: center; color: #666;">No special items today</p>
            {{/if}}
        </div>

        <!-- Quick Actions -->
        <div class="card" style="background: #fff3cd;">
            <h3>Quick Actions</h3>
            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <a href="/cafeteria/menu" class="btn btn-primary">
                    <i class="fas fa-utensils"></i> View Menu
                </a>
                <a href="/cafeteria/orders" class="btn btn-info">
                    <i class="fas fa-receipt"></i> My Orders
                </a>
                {{#if isAdmin}}
                <a href="/admin/cafe" class="btn btn-warning">
                    <i class="fas fa-cog"></i> Admin Panel
                </a>
                {{/if}}
            </div>
        </div>
    </div>

    <!-- Current Orders -->
    <div class="card">
        <h3>My Recent Orders</h3>
        {{#if recentOrders.length}}
        <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr style="background: #f8f9fa;">
                        <th style="padding: 1rem; text-align: left;">Order #</th>
                        <th style="padding: 1rem; text-align: left;">Items</th>
                        <th style="padding: 1rem; text-align: left;">Total</th>
                        <th style="padding: 1rem; text-align: left;">Status</th>
                        <th style="padding: 1rem; text-align: left;">Date</th>
                    </tr>
                </thead>
                <tbody>
                    {{#each recentOrders}}
                    <tr>
                        <td style="padding: 1rem;">{{orderNumber}}</td>
                        <td style="padding: 1rem;">
                            {{#each items}}
                            {{this.name}} (x{{this.quantity}})<br>
                            {{/each}}
                        </td>
                        <td style="padding: 1rem;">₹{{totalAmount}}</td>
                        <td style="padding: 1rem;">
                            <span class="badge badge-{{#if (eq status 'pending')}}warning{{else if (eq status 'preparing')}}info{{else if (eq status 'ready')}}success{{else if (eq status 'completed')}}secondary{{else}}danger{{/if}}">
                                {{status}}
                            </span>
                        </td>
                        <td style="padding: 1rem;">{{formatDate createdAt 'MMM DD'}}</td>
                    </tr>
                    {{/each}}
                </tbody>
            </table>
        </div>
        {{else}}
        <div style="text-align: center; padding: 2rem;">
            <i class="fas fa-receipt" style="font-size: 3rem; color: #6c757d;"></i>
            <p>No recent orders found</p>
            <a href="/cafeteria/menu" class="btn btn-primary">Place Your First Order</a>
        </div>
        {{/if}}
    </div>

    <!-- Operating Hours -->
    <div class="card">
        <h3>Operating Hours</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem;">
            <div>
                <strong>Monday - Friday</strong><br>
                8:00 AM - 8:00 PM
            </div>
            <div>
                <strong>Saturday</strong><br>
                9:00 AM - 6:00 PM
            </div>
            <div>
                <strong>Sunday</strong><br>
                10:00 AM - 4:00 PM
            </div>
        </div>
    </div>
</div>

<style>
.queue-low { color: #28a745; }
.queue-medium { color: #fd7e14; }
.queue-high { color: #dc3545; }
</style>
